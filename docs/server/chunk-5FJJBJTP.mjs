import './polyfills.server.mjs';
import{a as N,b as f,c as R,d as q,f as k,g as A,h as D,i as B,k as G}from"./chunk-ATA55DUS.mjs";import{a as I}from"./chunk-DLNTFG3A.mjs";import"./chunk-HCOGX7OE.mjs";import{A as C,D as E,Da as w,Ea as v,La as s,Ma as L,Sa as y,Va as S,Wb as T,Xb as x,ba as a,ma as g,oa as _,sa as u,ub as b,wa as o,xa as t,ya as h}from"./chunk-H272EWA6.mjs";import"./chunk-VVCT4QZE.mjs";var V=(e,n)=>({"is-valid":e,"is-invalid":n});function M(e,n){e&1&&(o(0,"p",14),s(1,"Email Is Required "),t())}function P(e,n){e&1&&(o(0,"p",14),s(1,"Enter Valid Email"),t())}function j(e,n){if(e&1&&(o(0,"div",6),g(1,M,2,0,"p",14)(2,P,2,0),t()),e&2){let d,l=v();a(),u(1,(d=l.loginForm.get("email"))!=null&&d.getError("required")?1:(d=l.loginForm.get("email"))!=null&&d.getError("email")?2:-1)}}function z(e,n){e&1&&(o(0,"p",14),s(1,"Password Is Required "),t())}function U(e,n){e&1&&(o(0,"p",14),s(1,"Password must Be 6 to more any chars "),t())}function W(e,n){if(e&1&&(o(0,"div",6),g(1,z,2,0,"p",14)(2,U,2,0),t()),e&2){let d,l=v();a(),u(1,(d=l.loginForm.get("password"))!=null&&d.getError("required")?1:(d=l.loginForm.get("password"))!=null&&d.getError("pattern")?2:-1)}}function $(e,n){e&1&&(o(0,"span"),h(1,"i",15),t())}function H(e,n){if(e&1&&(o(0,"p",12),s(1),t()),e&2){let d=v();a(),L(d.msgError)}}function J(e,n){e&1&&(o(0,"p",13),s(1,"Login Sucess Wait...."),t())}var te=(()=>{let n=class n{constructor(){this._AuthService=C(I),this._FormBuilder=C(B),this._Router=C(T),this.msgError="",this.isLoading=!1,this.msgSucess=!1,this.loginForm=this._FormBuilder.group({email:[null,[f.required,f.email]],password:[null,[f.required,f.pattern(/^.{6,}$/)]]})}loginSubmit(){this.loginForm.valid&&(this.isLoading=!0,this._AuthService.setLoginForm(this.loginForm.value).subscribe({next:l=>{console.log(l),l.message=="success"&&(this.msgSucess=!0,this.msgError="",setTimeout(()=>{localStorage.setItem("userToken",l.token),this._AuthService.saveUserData(),this._Router.navigate(["/home"])},1e3)),this.isLoading=!1},error:l=>{this.msgError=l.error.message,this.msgSucess=!1,console.log(l),this.isLoading=!1}}))}};n.\u0275fac=function(F){return new(F||n)},n.\u0275cmp=E({type:n,selectors:[["app-login"]],standalone:!0,features:[y],decls:22,vars:15,consts:[[1,"bg-main-light","shadow","rounded-4","p-2","my-4"],[1,"text-center","text-main",2,"font-size","64px"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-50"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-end","gap-4"],["routerLink","/forget",1,"link-primary","fs-5"],["type","submit",1,"btn-main",3,"disabled"],[1,"alert","alert-danger","w-50","m-0"],[1,"btn-main","m-0","w-50"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(F,i){if(F&1&&(o(0,"section",0)(1,"h1",1),s(2,"Login Now"),t(),o(3,"form",2),w("ngSubmit",function(){return i.loginSubmit()}),o(4,"div",3)(5,"label",4),s(6,"email"),t(),h(7,"input",5),g(8,j,3,1,"div",6),t(),o(9,"div",3)(10,"label",7),s(11,"password"),t(),h(12,"input",8),g(13,W,3,1,"div",6),t(),o(14,"div",9)(15,"a",10),s(16,"ForgetPassword...?"),t(),o(17,"button",11),s(18,"Login "),g(19,$,2,0,"span"),t()(),g(20,H,2,1,"p",12)(21,J,2,0,"p",13),t()()),F&2){let r,p,m,c;a(3),_("formGroup",i.loginForm),a(4),_("ngClass",S(9,V,!((r=i.loginForm.get("email"))!=null&&r.errors)&&(((r=i.loginForm.get("email"))==null?null:r.touched)||((r=i.loginForm.get("email"))==null?null:r.dirty)),((r=i.loginForm.get("email"))==null?null:r.errors)&&(((r=i.loginForm.get("email"))==null?null:r.touched)||((r=i.loginForm.get("email"))==null?null:r.dirty)))),a(),u(8,(p=i.loginForm.get("email"))!=null&&p.errors&&((p=i.loginForm.get("email"))!=null&&p.touched||(p=i.loginForm.get("email"))!=null&&p.dirty)?8:-1),a(4),_("ngClass",S(12,V,!((m=i.loginForm.get("password"))!=null&&m.errors)&&(((m=i.loginForm.get("password"))==null?null:m.touched)||((m=i.loginForm.get("password"))==null?null:m.dirty)),((m=i.loginForm.get("password"))==null?null:m.errors)&&(((m=i.loginForm.get("password"))==null?null:m.touched)||((m=i.loginForm.get("password"))==null?null:m.dirty)))),a(),u(13,(c=i.loginForm.get("password"))!=null&&c.errors&&((c=i.loginForm.get("password"))!=null&&c.touched||(c=i.loginForm.get("password"))!=null&&c.dirty)?13:-1),a(4),_("disabled",i.loginForm.invalid||i.isLoading),a(2),u(19,i.isLoading?19:-1),a(),u(20,i.msgError?20:-1),a(),u(21,i.msgSucess?21:-1)}},dependencies:[G,k,N,R,q,A,D,b,x]});let e=n;return e})();export{te as LoginComponent};
