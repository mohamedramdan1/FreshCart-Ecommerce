import{a as z}from"./chunk-UVMVVYW7.js";import{a as G}from"./chunk-32YEKVGS.js";import{a as R}from"./chunk-2UIPOQHZ.js";import{l as q}from"./chunk-CZ4CVQ5N.js";import{a as B,c as D,e as j,j as $}from"./chunk-LC6QU6XN.js";import{a as U}from"./chunk-KZFKCVWI.js";import{a as O}from"./chunk-LUSIAVDM.js";import"./chunk-SZXLN6HP.js";import{Aa as l,D as p,F as b,Ha as d,Ja as u,Ka as F,La as k,M as h,Ma as E,N as _,Oa as V,Pa as M,Qa as A,Ua as x,Wa as g,X as L,Z as a,ia as w,jb as I,ka as T,oa as f,pa as y,qa as P,ra as W,sa as n,ta as c,ua as m,xa as C,xb as N,za as v}from"./chunk-DQIRLPDC.js";var H=(i,o)=>o.id,J=i=>["/details",i],K=()=>[1,2,3,4,5];function Q(i,o){if(i&1){let r=C();n(0,"span",14),v("click",function(){h(r);let t=l().$implicit,s=l();return _(s.addToWishlist(t.id))}),m(1,"i",15),c()}}function X(i,o){if(i&1){let r=C();n(0,"span",14),v("click",function(){h(r);let t=l().$implicit,s=l();return _(s.removeProductWishlist(t.id))}),m(1,"i",16),c()}}function Y(i,o){i&1&&(n(0,"span"),m(1,"i",17),c())}function Z(i,o){i&1&&m(0,"i",11)}function tt(i,o){if(i&1){let r=C();n(0,"div")(1,"div",5),w(2,Q,2,0,"span")(3,X,2,0,"span"),n(4,"div",6),m(5,"img",7),n(6,"h3",8),d(7),c(),n(8,"h4",9),d(9),x(10,"termtext"),c(),n(11,"div",10)(12,"span"),d(13),x(14,"currency"),c(),n(15,"div",1),P(16,Y,2,0,"span",null,y),w(18,Z,1,0,"i",11),n(19,"span",12),d(20),c()()()(),n(21,"button",13),v("click",function(){let t=h(r).$implicit,s=l();return _(s.addToCart(t.id))}),d(22,"Add To Cart"),c()()()}if(i&2){let r=o.$implicit,e=l();a(2),f(2,e.WishList.includes(r.id)?-1:2),a(),f(3,e.WishList.includes(r.id)?3:-1),a(),T("routerLink",A(16,J,r.id)),a(),T("src",r.imageCover,L)("alt",r.title),a(2),u(" ",r.category.name," "),a(2),u(" ",g(10,10,r.title,2)," "),a(4),u(" ",g(14,13,r.price,"EGP")," "),a(3),W(M(18,K).slice(0,r.ratingsAverage)),a(2),f(18,r.ratingsAverage%1!==0?18:-1),a(2),u(" ",r.ratingsAverage," ")}}var vt=(()=>{let o=class o{constructor(){this._ProductsService=p(G),this._CartsService=p(O),this._ToastrService=p(q),this._WishlistService=p(U),this.text="",this.productList=[],this.WishList=[]}ngOnInit(){this._ProductsService.getAllProducts().subscribe({next:e=>{this.productList=e.data,console.log(e.data)}}),this._WishlistService.whishList.subscribe({next:e=>{e.length>0&&(this.WishList=e)}}),this._WishlistService.getProductTowishList().subscribe({next:e=>{let t=e.data.map(s=>s._id);this.WishList=t}})}addToCart(e){this._CartsService.addProductCart(e).subscribe({next:t=>{console.log(t),this._ToastrService.success(t.message,"FreshCart",{positionClass:"toast-bottom-right"}),this._CartsService.cartNumber.set(t.numOfCartItems)}})}addToWishlist(e){this._WishlistService.addProductTowishList(e).subscribe({next:t=>{console.log(t),this._ToastrService.success(t.message,"FreshCart",{positionClass:"toast-bottom-right"}),this.WishList=t.data,this._WishlistService.ToWishNumber.set(this.WishList.length)}})}removeProductWishlist(e){this._WishlistService.deleteSpecficTowishList(e).subscribe({next:t=>{this._ToastrService.success(t.message,"FreshCart",{positionClass:"toast-bottom-right"}),this.WishList=t.data,this._WishlistService.ToWishNumber.set(this.WishList.length)}})}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=b({type:o,selectors:[["app-product"]],standalone:!0,features:[V],decls:9,vars:4,consts:[[1,"mt-2"],[1,"d-flex","align-items-center"],[1,"text-main"],["type","search","placeholder","search by Name...",1,"form-control","w-50","mx-auto","my-2",3,"ngModelChange","ngModel"],[1,"row","justify-content-center","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5","g-3"],[1,"product","p-2","position-relative"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[3,"click"],[1,"fas","fa-heart","p-2","heart"],[1,"fas","fa-heart","p-2","heart",2,"color","red"],[1,"fas","fa-star","rating-color"]],template:function(t,s){t&1&&(n(0,"section",0)(1,"div",1)(2,"h2",2),d(3,"ALL product:"),c(),n(4,"input",3),E("ngModelChange",function(S){return k(s.text,S)||(s.text=S),S}),c()(),n(5,"div",4),P(6,tt,23,19,"div",null,H),x(8,"search"),c()()),t&2&&(a(4),F("ngModel",s.text),a(2),W(g(8,1,s.productList,s.text)))},dependencies:[$,B,D,j,N,I,R,z]});let i=o;return i})();export{vt as ProductComponent};
